<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 18 Feb 2015 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>CodeNarc - CodeNarc Ant Task</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20150218" />
    <meta http-equiv="Content-Language" content="en" />
                  
        </head>
  <body class="composite">
    <div id="banner">
                                              <a href="./" id="bannerLeft">
                                                <img src="images/codenarc-logo.png" alt="CodeNarc" />
                </a>
                              <a href="http://github.com/CodeNarc" id="bannerRight">
                                                <img src="images/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 18 Feb 2015</span>
                  &nbsp;| <span id="projectVersion">Version: 0.23</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>General</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="https://sourceforge.net/project/showfiles.php?group_id=250145" class="externalLink" title="Downloads">Downloads</a>
            </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Javadocs">Javadocs</a>
            </li>
                  <li class="none">
                          <a href="http://sourceforge.net/mail/?group_id=250145" class="externalLink" title="Mailing Lists">Mailing Lists</a>
            </li>
                  <li class="none">
                          <a href="http://sourceforge.net/tracker/?group_id=250145" class="externalLink" title="Bug Tracker">Bug Tracker</a>
            </li>
                  <li class="none">
                          <a href="http://sourceforge.net/projects/codenarc" class="externalLink" title="SourceForge Project">SourceForge Project</a>
            </li>
                  <li class="none">
                          <a href="http://github.com/CodeNarc" class="externalLink" title="GitHub Project">GitHub Project</a>
            </li>
          </ul>
                       <h5>Running</h5>
                  <ul>
                  <li class="none">
            <strong>Ant Task Usage</strong>
          </li>
                  <li class="none">
                          <a href="codenarc-command-line.html" title="Command-Line">Command-Line</a>
            </li>
                  <li class="none">
                          <a href="codenarc-run-as-a-test.html" title="Run as a Test">Run as a Test</a>
            </li>
                  <li class="none">
                          <a href="codenarc-other-tools-frameworks.html" title="Other Tools/Frameworks">Other Tools/Frameworks</a>
            </li>
          </ul>
                       <h5>Using</h5>
                  <ul>
                  <li class="none">
                          <a href="codenarc-creating-ruleset.html" title="Creating a RuleSet">Creating a RuleSet</a>
            </li>
                  <li class="none">
                          <a href="codenarc-creating-rule.html" title="Creating a Rule">Creating a Rule</a>
            </li>
                  <li class="none">
                          <a href="codenarc-configuring-rules.html" title="Configuring Rules">Configuring Rules</a>
            </li>
                  <li class="none">
                          <a href="StarterRuleSet-AllRulesByCategory.groovy.txt" title="Starter RuleSet (All)">Starter RuleSet (All)</a>
            </li>
          </ul>
                       <h5>Report Types</h5>
                  <ul>
                  <li class="none">
                          <a href="codenarc-HtmlReportWriter.html" title="HTML Report">HTML Report</a>
            </li>
                  <li class="none">
                          <a href="codenarc-XmlReportWriter.html" title="XML Report">XML Report</a>
            </li>
                  <li class="none">
                          <a href="codenarc-TextReportWriter.html" title="Text and IDE Reports">Text and IDE Reports</a>
            </li>
          </ul>
                       <h5>Sample Reports</h5>
                  <ul>
                  <li class="none">
                          <a href="SampleCodeNarcHtmlReport.html" title="Sample HTML Report">Sample HTML Report</a>
            </li>
                  <li class="none">
                          <a href="SampleCodeNarcXmlReport.xml" title="Sample XML Report">Sample XML Report</a>
            </li>
          </ul>
                       <h5>Rules</h5>
                  <ul>
                  <li class="none">
                          <a href="codenarc-rule-index.html" title="Rule Index">Rule Index</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-basic.html" title="Basic Rules">Basic Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-braces.html" title="Braces Rules">Braces Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-concurrency.html" title="Concurrency Rules">Concurrency Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-convention.html" title="Convention Rules">Convention Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-design.html" title="Design Rules">Design Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-dry.html" title="DRY Rules">DRY Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-enhanced.html" title="Enhanced Rules">Enhanced Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-exceptions.html" title="Exceptions Rules">Exceptions Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-formatting.html" title="Formatting Rules">Formatting Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-generic.html" title="Generic Rules">Generic Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-grails.html" title="Grails Rules">Grails Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-groovyism.html" title="Groovyism Rules">Groovyism Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-imports.html" title="Imports Rules">Imports Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-jdbc.html" title="JDBC Rules">JDBC Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-junit.html" title="JUnit Rules">JUnit Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-logging.html" title="Logging Rules">Logging Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-naming.html" title="Naming Rules">Naming Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-size.html" title="Size/Complexity Rules">Size/Complexity Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-security.html" title="Security Rules">Security Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-serialization.html" title="Serialization Rules">Serialization Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-unnecessary.html" title="Unnecessary Rules">Unnecessary Rules</a>
            </li>
                  <li class="none">
                          <a href="codenarc-rules-unused.html" title="Unused Rules">Unused Rules</a>
            </li>
          </ul>
                       <h5>Developing</h5>
                  <ul>
                  <li class="none">
                          <a href="codenarc-developer-guide.html" title="Developer Guide">Developer Guide</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                    <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                                                                                                                               <a href="http://sourceforge.net" title="Hosted on SourceForge.net" class="poweredBy">
        <img class="poweredBy"  alt="Hosted on SourceForge.net" src="http://sflogo.sourceforge.net/sflogo.php?group_id=208647&type=2"     />
      </a>
                                                                                                                      <a href="http://maven.apache.org" title="Build with Maven 2" class="poweredBy">
        <img class="poweredBy"  alt="Build with Maven 2" src="images/logos/maven-feather.png"     />
      </a>
                       
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>CodeNarc - Ant Task<a name="CodeNarc_-_Ant_Task"></a></h2><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<div class="section">
<h3>Description<a name="Description"></a></h3><!-- ~~~~~~~~~~~ -->
<p>The <b>CodeNarc</b> Ant Task is implemented by the <tt>org.codenarc.ant.CodeNarcTask</tt> class.</p></div>
<div class="section">
<h3>Parameters<a name="Parameters"></a></h3><!-- ~~~~~~~~~~ -->
<table border="1" class="bodyTable">
<tr class="a">
<td align="left"><b>Attribute</b></td>
<td align="left"><b>Description</b></td>
<td align="left"><b>Required</b></td></tr>
<tr class="b">
<td align="left">ruleSetFiles</td>
<td align="left">The paths to the Groovy or XML RuleSet definition files. This can be a single file path, or multiple paths separated by commas. By default, the paths specified are relative to the classpath. But each path may be optionally prefixed by any of the valid java.net.URL prefixes, such as &quot;file:&quot; (to load from a relative or absolute filesystem path), or &quot;http:&quot;.</td>
<td align="left">YES</td></tr>
<tr class="a">
<td align="left">maxPriority1Violations</td>
<td align="left">The maximum number of priority 1 violations allowed before failing the build (throwing a <tt>BuildException</tt>).</td>
<td align="left">NO</td></tr>
<tr class="b">
<td align="left">maxPriority2Violations</td>
<td align="left">The maximum number of priority 2 violations allowed before failing the build (throwing a <tt>BuildException</tt>).</td>
<td align="left">NO</td></tr>
<tr class="a">
<td align="left">maxPriority3Violations</td>
<td align="left">The maximum number of priority 3 violations allowed before failing the build (throwing a <tt>BuildException</tt>).</td>
<td align="left">NO</td></tr></table></div>
<div class="section">
<h3>Report Nested Element<a name="Report_Nested_Element"></a></h3><!-- ~~~~~~~~~~~~~~~~~~~~~ -->
<p>The <b>report</b> nested element defines the format and output file for the analysis report.</p>
<table border="1" class="bodyTable">
<tr class="a">
<td align="left"><b>Attribute</b></td>
<td align="left"><b>Description</b></td>
<td align="left"><b>Required</b></td></tr>
<tr class="b">
<td align="left">type</td>
<td align="left">The type of the output report. Must be either one of the predefined type names: &quot;html&quot;, &quot;xml&quot;, &quot;text&quot;, &quot;console&quot;, &quot;ide&quot; or else the fully-qualified class name of a class (accessible on the classpath) that implements the <tt>org.codenarc.report.ReportWriter</tt> interface.</td>
<td align="left">Yes</td></tr>
<tr class="a">
<td align="left">toFile <i>(Deprecated)</i></td>
<td align="left">The path and filename for the output report file. This is deprecated. Use the &lt;option&gt; nested element instead.</td>
<td align="left">No</td></tr>
<tr class="b">
<td align="left">title <i>(Deprecated)</i></td>
<td align="left">The title for the output report. This is deprecated. Use the &lt;option&gt; nested element instead.</td>
<td align="left">No</td></tr></table>
<p>Notes:</p>
<ul>
<li>The &quot;ide&quot; report <i>type</i> creates an <tt>IdeTextReportWriter</tt> and sets its <i>writeToStandardOut</i> property to <tt>true</tt>. The generated report includes IDE-compatible (Eclipse, Idea) hyperlinks to source code for violations.</li>
<li>The &quot;console&quot; report <i>type</i> creates a <tt>TextReportWriter</tt> and sets its <i>writeToStandardOut</i> property to <tt>true</tt>.</li></ul>
<div class="section">
<h4>Option Nested Element<a name="Option_Nested_Element"></a></h4><!-- ~~~~~~~~~~~~~~~~~~~~~~ -->
<p>The <b>&lt;option&gt;</b> element is a child of the <b>&lt;report&gt;</b> element and defines a report-specific option for a report. You specify the option <b>name&gt; and &lt;&lt;value</b> as attributes within the <b>&lt;option&gt;</b> element. See the <a href="#Example">Example</a> below.</p></div></div>
<div class="section">
<h3>Fileset Nested Element<a name="Fileset_Nested_Element"></a></h3><!-- ~~~~~~~~~~~~~~~~~~~~~ -->
<p>At least one <b>fileset</b> nested element is required, and is used to specify the source files that <b>CodeNarc</b> should analyze. This is the standard Ant <i>FileSet</i>, and is quite powerful and flexible. See the <a class="externalLink" href="http://ant.apache.org/manual/index.html">Apache Ant Manual</a> for more information on <i>FileSets</i>.</p></div>
<div class="section">
<h3><a name="Example">Example</a></h3><!-- ~~~~~~~~~ -->
<p>Here is an example Ant XML build file.</p>
<div class="source">
<pre>&lt;taskdef name=&quot;codenarc&quot; classname=&quot;org.codenarc.ant.CodeNarcTask&quot;/&gt;
&lt;target name=&quot;runCodeNarc&quot;&gt;
    &lt;codenarc
            ruleSetFiles=&quot;rulesets/basic.xml,rulesets/exceptions.xml,rulesets/imports.xml&quot;
            maxPriority1Violations=&quot;0&quot;&gt;

        &lt;report type=&quot;html&quot;&gt;
            &lt;option name=&quot;outputFile&quot; value=&quot;reports/CodeNarcAntReport.html&quot; /&gt;
            &lt;option name=&quot;title&quot; value=&quot;My Sample Code&quot; /&gt;
        &lt;/report&gt;

        &lt;fileset dir=&quot;src&quot;&gt;
            &lt;include name=&quot;**/*.groovy&quot;/&gt;
        &lt;/fileset&gt;
    &lt;/codenarc&gt;
&lt;/target&gt;
</pre></div>
<p>Things to note:</p>
<ul>
<li>Three <i>RuleSet</i> files are specified (<i>basic</i>, <i>exceptions</i> and <i>imports</i>).</li>
<li>The <i>fileset</i> specifies that all &quot;.groovy&quot; files are analyzed.</li>
<li>Remember that you need the <b>log4j</b> jar (and a &quot;log4j.properties&quot; file) on the classpath.</li></ul></div>
<div class="section">
<h3>Logging and Troubleshooting<a name="Logging_and_Troubleshooting"></a></h3><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
<p>Be sure to have a &quot;log4j.properties&quot; or &quot;log4j.xml&quot; file on the classpath so that any errors are logged.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2015.
          All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
